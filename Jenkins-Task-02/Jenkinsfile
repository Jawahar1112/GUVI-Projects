pipeline {
  agent any

  stages {
    stage('Build') {
      steps {
        echo 'üèóÔ∏è Running build script...'
        sh 'chmod +x build.sh'
        sh './build.sh'
      }
    }

    stage('Archive Output') {
      steps {
        echo 'üì¶ Archiving output.txt'
        archiveArtifacts artifacts: 'output.txt', onlyIfSuccessful: true
      }
    }
  }

  post {
    success {
      emailext(
        to: 'jawaharjawa1112@gmail.com.com',
        subject: "‚úÖ Build #${BUILD_NUMBER} Successful",
        body: "Jenkins build completed successfully.\nProject: ${JOB_NAME}\nBuild: #${BUILD_NUMBER}",
        attachLog: true
      )
    }
    failure {
      emailext(
        to: 'jawaharjawa1112@gmail.com.com',
        subject: "‚ùå Build #${BUILD_NUMBER} Failed",
        body: "Jenkins build failed.\nProject: ${JOB_NAME}\nBuild: #${BUILD_NUMBER}",
        attachLog: true
      )
    }
  }
}
